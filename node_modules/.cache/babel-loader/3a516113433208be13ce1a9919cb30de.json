{"ast":null,"code":"var _jsxFileName = \"/Users/alinpatrascu/Desktop/Projects/React/rrts-hooks/src/components/App.tsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchTodos, deleteTodo } from '../actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass _App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onButtonClick = () => {\n      this.props.fetchTodos();\n      this.setState({\n        fetching: true\n      });\n    };\n\n    this.onTodoClick = id => {\n      this.props.deleteTodo(id);\n    };\n\n    this.renderList = () => {\n      return this.props.todos.map(todo => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => this.onTodoClick(todo.id),\n          children: todo.title\n        }, todo.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 9\n        }, this);\n      });\n    };\n\n    this.state = {\n      fetching: false\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.todos.length && this.props.todos.length) {\n      this.setState({\n        fetching: false\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.onButtonClick,\n        children: \"Fetch\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.state.fetching && 'Loading'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.renderList()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = _ref => {\n  let {\n    todos\n  } = _ref;\n  return {\n    todos\n  };\n};\n\nconst mapDispatchToProps = {\n  fetchTodos,\n  deleteTodo\n};\nexport const App = connect(mapStateToProps, mapDispatchToProps)(_App);","map":{"version":3,"names":["React","connect","fetchTodos","deleteTodo","_App","Component","constructor","props","onButtonClick","setState","fetching","onTodoClick","id","renderList","todos","map","todo","title","state","componentDidUpdate","prevProps","length","render","mapStateToProps","mapDispatchToProps","App"],"sources":["/Users/alinpatrascu/Desktop/Projects/React/rrts-hooks/src/components/App.tsx"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { Todo, fetchTodos, deleteTodo } from '../actions';\nimport { StoreState } from '../reducers';\n\ninterface AppProps {\n  todos: Todo[];\n  fetchTodos: Function;\n  deleteTodo: typeof deleteTodo;\n}\n\ninterface AppState {\n  fetching: boolean;\n}\n\nclass _App extends React.Component<AppProps, AppState> {\n  constructor(props: AppProps) {\n    super(props);\n\n    this.state = { fetching: false };\n  }\n\n  componentDidUpdate(prevProps: AppProps) {\n    if (!prevProps.todos.length && this.props.todos.length) {\n      this.setState({ fetching: false });\n    }\n  }\n\n  onButtonClick = () => {\n    this.props.fetchTodos();\n    this.setState({ fetching: true });\n  };\n\n  onTodoClick = (id: number): void => {\n    this.props.deleteTodo(id);\n  };\n\n  renderList = (): JSX.Element[] => {\n    return this.props.todos.map((todo: Todo) => {\n      return (\n        <div onClick={() => this.onTodoClick(todo.id)} key={todo.id}>\n          {todo.title}\n        </div>\n      );\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <button onClick={this.onButtonClick}>Fetch</button>\n        <div>{this.state.fetching && 'Loading'}</div>\n        <div>{this.renderList()}</div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ todos }: StoreState): { todos: Todo[] } => {\n  return {\n    todos,\n  };\n};\n\nconst mapDispatchToProps = {\n  fetchTodos,\n  deleteTodo,\n};\n\nexport const App = connect(mapStateToProps, mapDispatchToProps)(_App);\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAAeC,UAAf,EAA2BC,UAA3B,QAA6C,YAA7C;;;AAaA,MAAMC,IAAN,SAAmBJ,KAAK,CAACK,SAAzB,CAAuD;EACrDC,WAAW,CAACC,KAAD,EAAkB;IAC3B,MAAMA,KAAN;;IAD2B,KAY7BC,aAZ6B,GAYb,MAAM;MACpB,KAAKD,KAAL,CAAWL,UAAX;MACA,KAAKO,QAAL,CAAc;QAAEC,QAAQ,EAAE;MAAZ,CAAd;IACD,CAf4B;;IAAA,KAiB7BC,WAjB6B,GAiBdC,EAAD,IAAsB;MAClC,KAAKL,KAAL,CAAWJ,UAAX,CAAsBS,EAAtB;IACD,CAnB4B;;IAAA,KAqB7BC,UArB6B,GAqBhB,MAAqB;MAChC,OAAO,KAAKN,KAAL,CAAWO,KAAX,CAAiBC,GAAjB,CAAsBC,IAAD,IAAgB;QAC1C,oBACE;UAAK,OAAO,EAAE,MAAM,KAAKL,WAAL,CAAiBK,IAAI,CAACJ,EAAtB,CAApB;UAAA,UACGI,IAAI,CAACC;QADR,GAAoDD,IAAI,CAACJ,EAAzD;UAAA;UAAA;UAAA;QAAA,QADF;MAKD,CANM,CAAP;IAOD,CA7B4B;;IAG3B,KAAKM,KAAL,GAAa;MAAER,QAAQ,EAAE;IAAZ,CAAb;EACD;;EAEDS,kBAAkB,CAACC,SAAD,EAAsB;IACtC,IAAI,CAACA,SAAS,CAACN,KAAV,CAAgBO,MAAjB,IAA2B,KAAKd,KAAL,CAAWO,KAAX,CAAiBO,MAAhD,EAAwD;MACtD,KAAKZ,QAAL,CAAc;QAAEC,QAAQ,EAAE;MAAZ,CAAd;IACD;EACF;;EAqBDY,MAAM,GAAG;IACP,oBACE;MAAA,wBACE;QAAQ,OAAO,EAAE,KAAKd,aAAtB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA,UAAM,KAAKU,KAAL,CAAWR,QAAX,IAAuB;MAA7B;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE;QAAA,UAAM,KAAKG,UAAL;MAAN;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAOD;;AAxCoD;;AA2CvD,MAAMU,eAAe,GAAG,QAA8C;EAAA,IAA7C;IAAET;EAAF,CAA6C;EACpE,OAAO;IACLA;EADK,CAAP;AAGD,CAJD;;AAMA,MAAMU,kBAAkB,GAAG;EACzBtB,UADyB;EAEzBC;AAFyB,CAA3B;AAKA,OAAO,MAAMsB,GAAG,GAAGxB,OAAO,CAACsB,eAAD,EAAkBC,kBAAlB,CAAP,CAA6CpB,IAA7C,CAAZ"},"metadata":{},"sourceType":"module"}